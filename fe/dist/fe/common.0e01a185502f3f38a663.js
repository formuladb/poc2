(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+L7L":function(t,e,n){"use strict";var r;n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o}),function(t){t.NONE="NONE",t.SPACE="SPACE",t.NLINE="NLINE",t.PUNCTUATION="PUNCTUATION",t.LITERAL="LITERAL",t.TABLE_NAME="TABLE_NAME",t.COLUMN_NAME="COLUMN_NAME",t.FUNCTION_NAME="FUNCTION_NAME"}(r||(r={}));var o=function(){function t(){this.caret=!1,this.pstart=0,this.pend=0,this.type=r.NONE,this.errors=[]}return t.prototype.withType=function(t){return this.type=t,this},t.prototype.withCaret=function(t){return this.caret||(this.caret=t),this},t.prototype.withClass=function(t){return this.class=t,this},t.prototype.withStartPos=function(t){return this.pstart=t,this},t.prototype.withEndPos=function(t){return this.pend=t,this},t.prototype.withValue=function(t){return this.value=t,this},t.prototype.withErrors=function(t){if(t)for(var e in t)this.pstart<t[e][1]&&this.pend>t[e][0]&&!this.errors.some(function(t){return t===e})&&this.errors.push(e);return this},t.prototype.isCaret=function(){return this.caret},t.prototype.getType=function(){return this.type},t.prototype.getClass=function(){return this.class},t.prototype.append=function(t){this.value?this.value+=t:this.value=t},t.prototype.getValue=function(){return this.value},t.prototype.getErrors=function(){return this.errors},t}()},"1vYw":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("LfxE"),o=(n("p07w"),n("z+ja")),i=n("67Y/"),s=n("+L7L"),u=n("CcnG"),c=n("yGQT"),p=[{bgColor:"#b6d0f9",tockenClass:"c_b6d0f9"},{bgColor:"#f9ccf9",tockenClass:"c_f9ccf9"},{bgColor:"#fcd9e1",tockenClass:"c_fcd9e1"},{bgColor:"#d9f9e5",tockenClass:"c_d9f9e5"},{bgColor:"#f5f9d9",tockenClass:"c_f5f9d9"}],a=function(){function t(t){var e=this;this.store=t,this.subscriptions=[],this.developerMode=!1,this.highlightColumns={},this.selectedEntity$=this.store.select(o.y),this.selectedFormula$=this.store.select(o.z).pipe(Object(i.a)(function(t){return t?"FORMULA"==t.propType_?t.formula:t.propType_:void 0})),this.subscriptions.push(this.store.select(o.w).subscribe(function(t){return e.developerMode=t})),this.editorExpr$=this.store.select(o.x)}return t.prototype.toggleFormulaEditor=function(){this.developerMode&&(this.store.dispatch(new o.h),this.highlightColumns={})},t.prototype.tokenize=function(t,e){var n=r(t,!0),i=this.parse(n,e);return this.store.dispatch(new o.g(this.highlightColumns)),i},t.prototype.expr2token=function(t,e,n){var r=void 0;if(t==s.b.COLUMN_NAME){r=p[Object.keys(this.highlightColumns).length%p.length].tockenClass;var o=p[Object.keys(this.highlightColumns).length%p.length].bgColor;this.highlightColumns[e.origExpr]=o}return(new s.a).withType(t).withStartPos(e.startIndex).withEndPos(e.endIndex).withCaret(e.startIndex<=n&&n<=e.endIndex).withValue(e.origExpr).withClass(r)},t.prototype.punctuationToken=function(t,e,n){return(new s.a).withType(s.b.PUNCTUATION).withStartPos(t).withEndPos(t+e.length).withCaret(t<=n&&n<=t+e.length).withValue(e)},t.prototype.parse=function(t,e){var n=this,o=[];switch(t.type){case"ArrayExpression":return[this.punctuationToken(t.startIndex,"[",e)].concat(t.elements.reduce(function(t,r){return t.concat(n.parse(r,e))},[])).concat(this.punctuationToken(t.endIndex-1,"]",e));case"BinaryExpression":return this.parse(t.left,e).concat(this.punctuationToken(t.left.endIndex," "+t.operator+" ",e)).concat(this.parse(t.right,e));case"CallExpression":o=[],Object(r.isIdentifier)(t.callee)?o.push(this.expr2token(s.b.FUNCTION_NAME,t.callee,e)):o.push.apply(o,this.parse(t.callee,e)),o.push(this.punctuationToken(t.callee.endIndex,"(",e));for(var i=t.arguments.length>0?t.arguments[t.arguments.length-1].endIndex:t.callee.endIndex+1,u=0;u<t.arguments.length;u++)o=o.concat(this.parse(t.arguments[u],e)),u<t.arguments.length-1&&o.push(this.punctuationToken(t.endIndex,", ",e));return o.push(this.punctuationToken(i,")",e)),o;case"ConditionalExpression":return this.parse(t.test,e).concat(this.parse(t.consequent,e)).concat(this.parse(t.alternate,e));case"Identifier":return[this.expr2token(s.b.NONE,t,e)];case"NumberLiteral":case"StringLiteral":case"Literal":return[this.expr2token(s.b.LITERAL,t,e)];case"LogicalExpression":return this.parse(t.left,e).concat(this.punctuationToken(t.left.endIndex,t.operator,e)).concat(this.parse(t.right,e));case"MemberExpression":return o=[],Object(r.isIdentifier)(t.object)?o.push(this.expr2token(s.b.TABLE_NAME,t.object,e)):o.push.apply(o,this.parse(t.object,e)),Object(r.isIdentifier)(t.property)?(o.push(this.punctuationToken(t.endIndex,".",e)),o.push(this.expr2token(s.b.COLUMN_NAME,t.property,e))):(o.push(this.punctuationToken(t.endIndex,".",e)),o.push.apply(o,this.parse(t.property,e))),o;case"ThisExpression":return[];case"UnaryExpression":return[this.punctuationToken(t.argument.startIndex-1,t.operator,e)].concat(this.parse(t.argument,e));case"Compound":throw new Error("Compound expr are not supported: "+t.origExpr);default:throw new Error("Unknown expression: "+JSON.stringify(t))}},t.ngInjectableDef=u.defineInjectable({factory:function(){return new t(u.inject(c.m))},token:t,providedIn:"root"}),t}()},"7lB+":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("1vYw");var r=function(){function t(t,e){var n=this;this.el=t,this.formulaEditorService=e,this.subscriptions=[],this.subscriptions.push(this.formulaEditorService.selectedFormula$.subscribe(function(t){n.el.nativeElement.value=t}))}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})},t}()},Qgfg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("//RN"),o=function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){},t.prototype.expand=function(t,e){e.preventDefault(),this.store.dispatch(new r.b(t,!1))},t.prototype.collapse=function(t,e){e.preventDefault(),this.store.dispatch(new r.b(t,!0))},t}()},frFc:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){}},sJbS:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("/PH2"),o=n("67Y/"),i=n("//RN"),s=n("z+ja"),u=function(){function t(t){var e=this;this.store=t,this.metadataCatalog$=this.store.select(i.g).pipe(Object(r.a)(this.store.select(function(t){return t.router.state.url})),Object(o.a)(function(t){var n=t[0],r=t[1],o=Object(s.C)(r),i=null===o||null===o.path?[]:o.path.split("___");return e.setCollapsed(n,i)}))}return t.prototype.ngOnInit=function(){},t.prototype.setCollapsed=function(t,e){var n=this;return t.map(function(t){return e.indexOf(t.linkName)<0&&t.children.length>0&&(t.onPath=!1),e.indexOf(t.linkName)>=0&&t.children.length>0&&(t.onPath=!0),t.children=n.setCollapsed(t.children,e),t})},t}()},"zlt+":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("z+ja"),o=n("L48v"),i=function(){function t(t,e){var n=this;this.store=t,this.router=e,this.subscriptions=[],this.developerMode=!1,this.editorOpened=!1,this.subscriptions.push(this.store.select(r.w).subscribe(function(t){return n.developerMode=t}))}return t.prototype.ngOnInit=function(){},t.prototype.switchTheme=function(t){this.router.navigate([this.router.url.replace(/\/\d+\/?/,"/"+t+"/")])},t.prototype.switchThemeColorPalette=function(t){this.store.dispatch(new o.a(t))},t.prototype.switchLanguage=function(t){},t.prototype.switchSideBarImage=function(t){this.store.dispatch(new o.b(t))},t.prototype.formulaFocused=function(){this.editorOpened=!0},t.prototype.toggleFormulaEditor=function(){this.developerMode&&(this.editorOpened=!this.editorOpened)},t.prototype.toggleDeveloperMode=function(){this.store.dispatch(new r.b)},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})},t}()}}]);