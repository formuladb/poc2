_id: RoomBooking
isEditable: true
stateGraph:
    nodes:
        - PENDING
        - FINALIZED
        - CANCELLED
    transitions:
        -
            source: PENDING
            target: FINALIZED
        -
            source: PENDING
            target: CANCELLED
        -
            source: FINALIZED
            target: CANCELLED
props:
    _id:
        name: _id
        propType_: STRING
        allowNull: false
    guest:
        name: guest
        propType_: REFERENCE_TO
        referencedEntityName: $User
        referencedPropertyName: _id
    room:
        name: room
        propType_: REFERENCE_TO
        referencedEntityName: Room
        referencedPropertyName: _id
    start_date:
        name: start_date
        propType_: DATETIME
        allowNull: false
    end_date:
        name: end_date
        propType_: DATETIME
        allowNull: false
    nb_adults:
        name: nb_adults
        propType_: NUMBER
        allowNull: false
    nb_children:
        name: nb_children
        propType_: NUMBER
        allowNull: false
    days:
        name: days
        propType_: FORMULA
        formula: 'DATEDIF(start_date, end_date, "D") + 1'
    cost:
        name: cost
        propType_: FORMULA
        formula: days * 100
    bookings_for_the_same_room:
        name: bookings_for_the_same_room
        propType_: FORMULA
        formula: '"FILTER(Booking, @[booking_item_id] == booking_item_id)"'
